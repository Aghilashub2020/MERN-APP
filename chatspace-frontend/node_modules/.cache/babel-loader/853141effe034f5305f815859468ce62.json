{"ast":null,"code":"var _jsxFileName = \"/home/aurelius/Academics/EAD/proj/MERN-APP/chatspace-frontend/src/Sidebar.js\";\nimport React from 'react';\nimport './Sidebar.css';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AddIcon from '@material-ui/icons/Add';\nimport SidebarChannel from './SidebarChannel';\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport CallIcon from '@material-ui/icons/Call';\nimport { Avatar } from '@material-ui/core';\nimport MicIcon from '@material-ui/icons/Mic';\nimport HeadsetIcon from '@material-ui/icons/Headset';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from './features/userSlice';\nimport db, { auth } from './firebase';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\nimport Pusher from 'pusher-js';\nimport axios from './axios';\nconst pusher = new Pusher('ff9f1dc4d3a281baf530', {\n  cluster: 'ap2'\n});\n\nconst Sidebar = () => {\n  const user = useSelector(selectUser);\n  const [channels, setChannels] = useState([]);\n\n  const getChannels = () => {\n    axios.get(`/get/channelList`).then(res => {\n      setChannels(res.data);\n    });\n  };\n\n  useEffect(() => {\n    getChannels();\n    const channel = pusher.subscribe('my-channel');\n    channel.bind('my-event', function (data) {\n      getChannels();\n    }); // db.collection('channels').onSnapshot(snapshot => {\n    //     setChannels(snapshot.docs.map(doc => ({\n    //         id: doc.id,\n    //         channel: doc.data()\n    //     })))\n    // })\n  }, []);\n\n  const handleAddChannel = e => {\n    e.preventDefault();\n    const channelName = prompt('Enter a new channel name');\n\n    if (channelName) {\n      axios.post('/new/channel', {\n        channelName: channelName\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Clever Programmer\"), /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channelsHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Text Channels\")), /*#__PURE__*/React.createElement(AddIcon, {\n    onClick: handleAddChannel,\n    className: \"sidebar__addChannel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channelsList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, channels.map(channel => /*#__PURE__*/React.createElement(SidebarChannel, {\n    key: channel.id,\n    id: channel.id,\n    channelName: channel.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 35\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SignalCellularAltIcon, {\n    className: \"sidebar__voiceIcons\",\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voiceInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Voice Connected\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"Stream\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voiceIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CallIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: user.photo,\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profileInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, user.displayName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"#\", user.uid.substring(0, 5))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profileIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MicIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(HeadsetIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(SettingsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }))));\n};\n\nexport default Sidebar;","map":{"version":3,"sources":["/home/aurelius/Academics/EAD/proj/MERN-APP/chatspace-frontend/src/Sidebar.js"],"names":["React","ExpandMoreIcon","AddIcon","SidebarChannel","SignalCellularAltIcon","InfoOutlinedIcon","CallIcon","Avatar","MicIcon","HeadsetIcon","SettingsIcon","useSelector","selectUser","db","auth","useState","useEffect","Pusher","axios","pusher","cluster","Sidebar","user","channels","setChannels","getChannels","get","then","res","data","channel","subscribe","bind","handleAddChannel","e","preventDefault","channelName","prompt","post","map","id","name","photo","signOut","displayName","uid","substring"],"mappings":"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","sourcesContent":["import React from 'react'\nimport './Sidebar.css'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport AddIcon from '@material-ui/icons/Add'\nimport SidebarChannel from './SidebarChannel'\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt'\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined'\nimport CallIcon from '@material-ui/icons/Call'\nimport {Avatar} from '@material-ui/core'\nimport MicIcon from '@material-ui/icons/Mic'\nimport HeadsetIcon from '@material-ui/icons/Headset'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport {useSelector} from 'react-redux'\nimport {selectUser} from './features/userSlice'\nimport db, {auth} from './firebase'\nimport {useState} from 'react'\nimport {useEffect} from 'react'\nimport Pusher from 'pusher-js'\n\nimport axios from './axios'\n\nconst pusher = new Pusher('ff9f1dc4d3a281baf530', {cluster: 'ap2'});\n\nconst Sidebar = () => {\n  const user = useSelector(selectUser)\n  const [channels, setChannels] = useState([])\n\n  const getChannels = () => {\n    axios.get(`/get/channelList`).then((res) => {\n      setChannels(res.data)\n    })\n  }\n\n  useEffect(() => {\n    getChannels()\n    const channel = pusher.subscribe('my-channel');\n    channel.bind('my-event', function(data) {\n      getChannels()\n    });\n    // db.collection('channels').onSnapshot(snapshot => {\n    //     setChannels(snapshot.docs.map(doc => ({\n    //         id: doc.id,\n    //         channel: doc.data()\n    //     })))\n    // })\n  }, [])\n\n  const handleAddChannel = (e) => {\n    e.preventDefault()\n\n    const channelName = prompt('Enter a new channel name')\n\n    if (channelName) {\n      axios.post('/new/channel', {channelName: channelName})\n\n    }\n  }\n\n  return (<div className='sidebar'>\n    <div className=\"sidebar__top\">\n      <h3>Clever Programmer</h3>\n      <ExpandMoreIcon/>\n    </div>\n\n    <div className=\"sidebar__channels\">\n      <div className=\"sidebar__channelsHeader\">\n        <div className=\"sidebar__header\">\n          <ExpandMoreIcon/>\n          <h4>Text Channels</h4>\n        </div>\n\n        <AddIcon onClick={handleAddChannel} className='sidebar__addChannel'/>\n      </div>\n      <div className=\"sidebar__channelsList\">\n        {channels.map(channel => (<SidebarChannel key={channel.id} id={channel.id} channelName={channel.name}/>))}\n      </div>\n    </div>\n\n    <div className=\"sidebar__voice\">\n      <SignalCellularAltIcon className='sidebar__voiceIcons' fontSize='large'/>\n      <div className=\"sidebar__voiceInfo\">\n        <h3>Voice Connected</h3>\n        <p>Stream</p>\n      </div>\n\n      <div className=\"sidebar__voiceIcons\">\n        <InfoOutlinedIcon/>\n        <CallIcon/>\n      </div>\n    </div>\n    <div className=\"sidebar__profile\">\n      <Avatar src={user.photo} onClick={() => auth.signOut()}/>\n      <div className=\"sidebar__profileInfo\">\n        <h3>{user.displayName}</h3>\n        <p>#{user.uid.substring(0, 5)}</p>\n      </div>\n\n      <div className=\"sidebar__profileIcons\">\n        <MicIcon/>\n        <HeadsetIcon/>\n        <SettingsIcon/>\n      </div>\n    </div>\n  </div>)\n}\n\nexport default Sidebar\n"]},"metadata":{},"sourceType":"module"}